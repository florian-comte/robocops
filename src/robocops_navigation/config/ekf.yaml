ekf_filter_node:
  ros__parameters:
    frequency: 30.0
    sensor_timeout: 0.1
    two_d_mode: true
    transform_time_offset: 0.0
    transform_timeout: 0.0
    print_diagnostics: true
    debug: false
    debug_out_file: /tmp/ekf_debug.txt
    publish_acceleration: false
    publish_tf: true
    map_frame: map
    odom_frame: odom
    base_link_frame: base_link
    world_frame: odom

    # Odometry from diff drive or other source
    odom0: diffdrive_controller/odom
    odom0_config: [true, true, false,
                   false, false, true,
                   true, true, false,
                   false, false, true,
                   false, false, false]
    odom0_queue_size: 10
    odom0_differential: false
    odom0_relative: false
    odom0_pose_use_child_frame: false

    # IMU data
    imu0: imu/data
    imu0_config: [false, false, false,
                  false, false, false,
                  false, false, false,
                  true, false, true,
                  false, false, true]
    imu0_differential: false
    imu0_relative: false
    imu0_queue_size: 10
    imu0_remove_gravitational_acceleration: true

    # Control input from cmd_vel
    use_control: true
    stamped_control: true
    control_timeout: 0.2
    control_config: [true, false, false, false, false, true]
    acceleration_limits: [1.0, 0.0, 0.0, 0.0, 0.0, 1.0]
    deceleration_limits: [1.0, 0.0, 0.0, 0.0, 0.0, 1.0]

    # Covariances
    process_noise_covariance: [0.05, 0.0, 0.0, 0.0, 0.0, 0.0,
                               0.0, 0.05, 0.0, 0.0, 0.0, 0.0,
                               0.0, 0.0, 0.0, 0.03, 0.0, 0.0,
                               0.0, 0.0, 0.0, 0.0, 0.03, 0.0,
                               0.0, 0.0, 0.0, 0.0, 0.0, 0.02,
                               0.025, 0.0, 0.0, 0.0, 0.0, 0.0,
                               0.0, 0.025, 0.0, 0.0, 0.0, 0.0,
                               0.0, 0.0, 0.0, 0.0, 0.0, 0.02,
                               0.0, 0.0, 0.0, 0.0, 0.0, 0.015]
    initial_estimate_covariance: [1e-9] * 15
